<div class="header">
    <h2>Exercise #{{ section.id }}</h2>
</div>
<div class="message">
    {% autoescape false %}{{ section.content }}{% endautoescape %}
</div>
<div class="editor" style="height: {{ section.content.split("\n").length*20 }};">{{ section.codes.base }}</div>

<pre class="hidden code-solution">{{ section.codes.solution }}</pre>
<pre class="hidden code-validation">{{ section.codes.validation }}</pre>

<div class="btn-group btn-group-justified">
    <a href="#" class="btn btn-default action-submit">Submit</a>
    <a href="#" class="btn btn-default action-solution">Solution</a>
    <a href="https://github.com/{{ githubId }}/issues/new" target="_blank" class="btn btn-default">Have a Question?</a>
</div>

<script>
$(document).ready(function() {
    var $exercise = $("#section-{{ section.id }}");

    var editor = ace.edit($exercise.find(".editor").get(0));
    editor.setTheme("ace/theme/tomorrow");
    editor.getSession().setMode("ace/mode/javascript");

    $exercise.find(".action-submit").click(function(e) {
        e.preventDefault();

        alert("submit");
    });
    $exercise.find(".action-solution").click(function(e) {
        e.preventDefault();

        editor.setValue($exercise.find(".code-solution").html());
    });
});
</script>